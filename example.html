<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

<canvas id="canvas"></canvas>
<script>
const can = document.getElementById("canvas");
const ctx = can.getContext("2d");
can.width = window.innerWidth
can.height = window.innerHeight

ctx.moveTo(0,50)
ctx.lineTo(50,50)

let x,y;
let array = []
window.addEventListener("touchstart",e=>{
    x = e.touches[0].clientX;
    y = e.touches[0].clientY;
    array = [[x,y]]
})
window.addEventListener("touchmove",e=>{
    x = e.touches[e.touches.length-1].clientX;
    y = e.touches[e.touches.length-1].clientY;
    array.push([x,y])

})

function animate(){
    if(array.length > 2){
        ctx.beginPath();
        for(let i=0; i<array.length-1; i++){
            ctx.moveTo(array[i][0],array[i][1])
            ctx.lineTo(array[i+1][0],array[i+1][1])
        }
        console.log(array)
        ctx.stroke();
    }
    requestAnimationFrame(animate)
}

animate();
</script>
</body>
</html>